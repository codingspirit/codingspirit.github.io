---
title: 常用命令行字符串操作指令
tags:
  - 日志
date: 2018-02-09 15:42:29
categories: 随便写写
---
不定期更新。。
<!--more-->

## Windows
在指定文件中查找字符串：
```bat
findstr "#define BUILD_VERSION" main.c
```
将某条指令返回值的第一行存在一个名为temp的变量中：
```bat
for /f "delims=" %%1 in ('findstr "#define BUILD_VERSION" main.c')do set temp=%%1
```
将temp中"BUILD_VERSION "左侧字符替换为空字符串，然后保留到version中：
```bat
set "version=%temp:*BUILD_VERSION =%"
```

## Linux
在指定文件中查找字符串：
```sh
grep "#define BUILD_VERSION" main.c
```
将某条指令返回值的第一行存在一个名为temp的变量中：
```sh
temp=$(grep "#define BUILD_VERSION" main.c)
```
将temp中"BUILD_VERSION "左侧字符替换为空字符串，然后保留到version中：
```sh
version=${temp#*BUILD_VERSION }
```
3/19/2018更新：
判断字符串变量sw_version的长度：
```sh
if [ "${#sw_version}" = "5" ]; then

fi
```
git 获取当前branch name
```sh
git symbolic-ref --short -q HEAD
```
